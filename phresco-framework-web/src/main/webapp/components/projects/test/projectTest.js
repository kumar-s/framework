define(["projects/addproject"], function(addProject) {

	return { runTests: function (configData) {
		/**
		 * Test that the setMainContent method sets the text in the MyCart-widget
		 */
		module("Project.js;Project");
		
		var addproject = new addProject(), templateData = {};
		
		asyncTest("Add Project- App Layer UI Test", function() {
			
			mockappTypes = mockFunction();
			when(mockappTypes)(anything()).then(function(arg) {
				var appTypesResponse = {"response":null,"message":"Apptypes listed successfully","exception":null,"data":[{"techGroups":[{"appTypeId":"web-layer","techInfos":[{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 JQuery Mobile Widget","id":"tech-html5-jquery-mobile-widget","displayName":null,"description":null,"status":null},{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 YUI Mobile Widget","id":"tech-html5-mobile-widget","displayName":null,"description":null,"status":null},{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 Multichannel JQuery Widget","id":"tech-html5-jquery-widget","displayName":null,"description":null,"status":null},{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 Multichannel YUI Widget","id":"tech-html5","displayName":null,"description":null,"status":null}],"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5","id":"html5","displayName":null,"description":null,"status":null}],"customerIds":["photon"],"used":false,"creationDate":1371030538015,"helpText":null,"system":true,"name":"Web Layer","id":"web-layer","displayName":null,"description":null,"status":null},{"techGroups":[{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["3.4.2","3.3.1"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"WordPress","id":"tech-wordpress","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["5.4.x","5.3.x","5.2.x","5.1.x","5.0.x"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"PHP","id":"tech-php","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["7.8"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Drupal7","id":"tech-phpdru7","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["6.3","6.25","6.19"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Drupal6","id":"tech-phpdru6","displayName":null,"description":null,"status":null}],"creationDate":1371030541234,"helpText":null,"system":false,"name":"PHP","id":"php","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Java WebService","id":"tech-java-webservice","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Java Standalone","id":"tech-java-standalone","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["1.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"MacOSX","id":"49ea6a1c-ad68-4971-995c-0f26017abb3b","displayName":null,"description":null,"status":null}],"creationDate":1371030541250,"helpText":null,"system":false,"name":"Java","id":"java","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["4.0","3.5","3.0","2.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"ASP.NET","id":"tech-dotnet","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["3.5","3.0","2.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Sharepoint","id":"tech-sharepoint","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["3.5","3.0","2.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Site Core","id":"tech-sitecore","displayName":null,"description":null,"status":null}],"creationDate":1371030541250,"helpText":null,"system":false,"name":"Dot Net","id":"dotnet","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["0.10.9","0.10.8","0.10.7","0.10.6","0.10.5","0.10.4","0.10.3","0.10.2","0.10.1","0.10.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Node JS Web Service","id":"tech-nodejs-webservice","displayName":null,"description":null,"status":null}],"creationDate":1371030541250,"helpText":null,"system":false,"name":"NodeJs","id":"nodejs","displayName":null,"description":null,"status":null}],"customerIds":["photon"],"used":false,"creationDate":1371030539625,"helpText":null,"system":true,"name":"Application Layer","id":"app-layer","displayName":null,"description":null,"status":null},{"techGroups":[{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["4.1","4.1.2","4.2","4.0.3","2.3.3","2.2","2.1_r1","1.6"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android Native","id":"tech-android-native","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["4.1","4.1.2","4.2","4.0.3","2.3.3","2.2","2.1_r1","1.6"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android Hybrid","id":"tech-android-hybrid","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["4.1","4.1.2","4.2","4.0.3","2.3.3","2.2","2.1_r1","1.6"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android Library","id":"tech-android-library","displayName":null,"description":null,"status":null}],"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android","id":"android","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["7.x"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Windows Metro","id":"tech-win-metro","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["7.x"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Windows Phone","id":"tech-win-phone","displayName":null,"description":null,"status":null}],"creationDate":1371030542859,"helpText":null,"system":false,"name":"Windows","id":"windows","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["7.x "],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Blackberry Hybrid","id":"tech-blackberry-hybrid","displayName":null,"description":null,"status":null}],"creationDate":1371030542859,"helpText":null,"system":false,"name":"Black Berry","id":"bb","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":null,"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"iPhone Native","id":"tech-iphone-native","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":null,"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"iPhone Hybrid","id":"tech-iphone-hybrid","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":[""],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Iphone Library","id":"tech-iphone-library","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":[""],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Iphone Workspace","id":"tech-iphone-workspace","displayName":null,"description":null,"status":null}],"creationDate":1371030542859,"helpText":null,"system":false,"name":"iOS","id":"iphone","displayName":null,"description":null,"status":null}],"customerIds":["photon"],"used":false,"creationDate":1371030541265,"helpText":null,"system":true,"name":"Mobile Layer","id":"mob-layer","displayName":null,"description":null,"status":null}]};
				
				$.each(appTypesResponse.data, function(index, value){
					addproject.projectsListener.projectAPI.localVal.setJson(value.name, value);
				});
				
				addproject.applicationlayerData = addproject.projectsListener.projectAPI.localVal.getJson("Application Layer");
				addproject.weblayerData = addproject.projectsListener.projectAPI.localVal.getJson("Web Layer");
				addproject.mobilelayerData = addproject.projectsListener.projectAPI.localVal.getJson("Mobile Layer");
				templateData.applicationlayerData = addproject.applicationlayerData;
				templateData.weblayerData = addproject.weblayerData;
				templateData.mobilelayerData = addproject.mobilelayerData;
				
				addproject.renderTemplate(templateData, commonVariables.contentPlaceholder);
			});
			
			addproject.setTechnologyData = mockappTypes;
			addproject.loadPage();
			
			setTimeout(function() {
				start();
				var option = $(commonVariables.contentPlaceholder).find("select.appln_technology").find("option:contains(PHP)").text();
				equal(option, "PHP", "Add Project - Applayer UI Tested");
			}, 1500);
		});
		
		asyncTest("Add Project- Web Layer UI Test", function() {
			
			mockappTypes = mockFunction();
			when(mockappTypes)(anything()).then(function(arg) {
				var appTypesResponse = {"response":null,"message":"Apptypes listed successfully","exception":null,"data":[{"techGroups":[{"appTypeId":"web-layer","techInfos":[{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 JQuery Mobile Widget","id":"tech-html5-jquery-mobile-widget","displayName":null,"description":null,"status":null},{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 YUI Mobile Widget","id":"tech-html5-mobile-widget","displayName":null,"description":null,"status":null},{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 Multichannel JQuery Widget","id":"tech-html5-jquery-widget","displayName":null,"description":null,"status":null},{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 Multichannel YUI Widget","id":"tech-html5","displayName":null,"description":null,"status":null}],"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5","id":"html5","displayName":null,"description":null,"status":null}],"customerIds":["photon"],"used":false,"creationDate":1371030538015,"helpText":null,"system":true,"name":"Web Layer","id":"web-layer","displayName":null,"description":null,"status":null},{"techGroups":[{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["3.4.2","3.3.1"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"WordPress","id":"tech-wordpress","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["5.4.x","5.3.x","5.2.x","5.1.x","5.0.x"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"PHP","id":"tech-php","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["7.8"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Drupal7","id":"tech-phpdru7","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["6.3","6.25","6.19"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Drupal6","id":"tech-phpdru6","displayName":null,"description":null,"status":null}],"creationDate":1371030541234,"helpText":null,"system":false,"name":"PHP","id":"php","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Java WebService","id":"tech-java-webservice","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Java Standalone","id":"tech-java-standalone","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["1.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"MacOSX","id":"49ea6a1c-ad68-4971-995c-0f26017abb3b","displayName":null,"description":null,"status":null}],"creationDate":1371030541250,"helpText":null,"system":false,"name":"Java","id":"java","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["4.0","3.5","3.0","2.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"ASP.NET","id":"tech-dotnet","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["3.5","3.0","2.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Sharepoint","id":"tech-sharepoint","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["3.5","3.0","2.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Site Core","id":"tech-sitecore","displayName":null,"description":null,"status":null}],"creationDate":1371030541250,"helpText":null,"system":false,"name":"Dot Net","id":"dotnet","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["0.10.9","0.10.8","0.10.7","0.10.6","0.10.5","0.10.4","0.10.3","0.10.2","0.10.1","0.10.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Node JS Web Service","id":"tech-nodejs-webservice","displayName":null,"description":null,"status":null}],"creationDate":1371030541250,"helpText":null,"system":false,"name":"NodeJs","id":"nodejs","displayName":null,"description":null,"status":null}],"customerIds":["photon"],"used":false,"creationDate":1371030539625,"helpText":null,"system":true,"name":"Application Layer","id":"app-layer","displayName":null,"description":null,"status":null},{"techGroups":[{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["4.1","4.1.2","4.2","4.0.3","2.3.3","2.2","2.1_r1","1.6"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android Native","id":"tech-android-native","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["4.1","4.1.2","4.2","4.0.3","2.3.3","2.2","2.1_r1","1.6"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android Hybrid","id":"tech-android-hybrid","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["4.1","4.1.2","4.2","4.0.3","2.3.3","2.2","2.1_r1","1.6"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android Library","id":"tech-android-library","displayName":null,"description":null,"status":null}],"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android","id":"android","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["7.x"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Windows Metro","id":"tech-win-metro","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["7.x"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Windows Phone","id":"tech-win-phone","displayName":null,"description":null,"status":null}],"creationDate":1371030542859,"helpText":null,"system":false,"name":"Windows","id":"windows","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["7.x "],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Blackberry Hybrid","id":"tech-blackberry-hybrid","displayName":null,"description":null,"status":null}],"creationDate":1371030542859,"helpText":null,"system":false,"name":"Black Berry","id":"bb","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":null,"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"iPhone Native","id":"tech-iphone-native","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":null,"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"iPhone Hybrid","id":"tech-iphone-hybrid","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":[""],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Iphone Library","id":"tech-iphone-library","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":[""],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Iphone Workspace","id":"tech-iphone-workspace","displayName":null,"description":null,"status":null}],"creationDate":1371030542859,"helpText":null,"system":false,"name":"iOS","id":"iphone","displayName":null,"description":null,"status":null}],"customerIds":["photon"],"used":false,"creationDate":1371030541265,"helpText":null,"system":true,"name":"Mobile Layer","id":"mob-layer","displayName":null,"description":null,"status":null}]};
				
				$.each(appTypesResponse.data, function(index, value){
					addproject.projectsListener.projectAPI.localVal.setJson(value.name, value);
				});
				
				addproject.applicationlayerData = addproject.projectsListener.projectAPI.localVal.getJson("Application Layer");
				addproject.weblayerData = addproject.projectsListener.projectAPI.localVal.getJson("Web Layer");
				addproject.mobilelayerData = addproject.projectsListener.projectAPI.localVal.getJson("Mobile Layer");
				templateData.applicationlayerData = addproject.applicationlayerData;
				templateData.weblayerData = addproject.weblayerData;
				templateData.mobilelayerData = addproject.mobilelayerData;
				
				addproject.renderTemplate(templateData, commonVariables.contentPlaceholder);
			});
			
			addproject.setTechnologyData = mockappTypes;
			addproject.loadPage();
			
			setTimeout(function() {
				start();
				var option = $(commonVariables.contentPlaceholder).find("select.weblayer").find("option:contains(HTML5)").text();
				equal(option, "HTML5", "Add Project - WebLayer UI Tested");
			}, 1500);
		});
		
		asyncTest("Add Project- Mobile Layer UI Test", function() {
			
			mockappTypes = mockFunction();
			when(mockappTypes)(anything()).then(function(arg) {
				var appTypesResponse = {"response":null,"message":"Apptypes listed successfully","exception":null,"data":[{"techGroups":[{"appTypeId":"web-layer","techInfos":[{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 JQuery Mobile Widget","id":"tech-html5-jquery-mobile-widget","displayName":null,"description":null,"status":null},{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 YUI Mobile Widget","id":"tech-html5-mobile-widget","displayName":null,"description":null,"status":null},{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 Multichannel JQuery Widget","id":"tech-html5-jquery-widget","displayName":null,"description":null,"status":null},{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 Multichannel YUI Widget","id":"tech-html5","displayName":null,"description":null,"status":null}],"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5","id":"html5","displayName":null,"description":null,"status":null}],"customerIds":["photon"],"used":false,"creationDate":1371030538015,"helpText":null,"system":true,"name":"Web Layer","id":"web-layer","displayName":null,"description":null,"status":null},{"techGroups":[{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["3.4.2","3.3.1"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"WordPress","id":"tech-wordpress","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["5.4.x","5.3.x","5.2.x","5.1.x","5.0.x"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"PHP","id":"tech-php","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["7.8"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Drupal7","id":"tech-phpdru7","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["6.3","6.25","6.19"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Drupal6","id":"tech-phpdru6","displayName":null,"description":null,"status":null}],"creationDate":1371030541234,"helpText":null,"system":false,"name":"PHP","id":"php","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Java WebService","id":"tech-java-webservice","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Java Standalone","id":"tech-java-standalone","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["1.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"MacOSX","id":"49ea6a1c-ad68-4971-995c-0f26017abb3b","displayName":null,"description":null,"status":null}],"creationDate":1371030541250,"helpText":null,"system":false,"name":"Java","id":"java","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["4.0","3.5","3.0","2.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"ASP.NET","id":"tech-dotnet","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["3.5","3.0","2.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Sharepoint","id":"tech-sharepoint","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["3.5","3.0","2.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Site Core","id":"tech-sitecore","displayName":null,"description":null,"status":null}],"creationDate":1371030541250,"helpText":null,"system":false,"name":"Dot Net","id":"dotnet","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["0.10.9","0.10.8","0.10.7","0.10.6","0.10.5","0.10.4","0.10.3","0.10.2","0.10.1","0.10.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Node JS Web Service","id":"tech-nodejs-webservice","displayName":null,"description":null,"status":null}],"creationDate":1371030541250,"helpText":null,"system":false,"name":"NodeJs","id":"nodejs","displayName":null,"description":null,"status":null}],"customerIds":["photon"],"used":false,"creationDate":1371030539625,"helpText":null,"system":true,"name":"Application Layer","id":"app-layer","displayName":null,"description":null,"status":null},{"techGroups":[{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["4.1","4.1.2","4.2","4.0.3","2.3.3","2.2","2.1_r1","1.6"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android Native","id":"tech-android-native","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["4.1","4.1.2","4.2","4.0.3","2.3.3","2.2","2.1_r1","1.6"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android Hybrid","id":"tech-android-hybrid","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["4.1","4.1.2","4.2","4.0.3","2.3.3","2.2","2.1_r1","1.6"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android Library","id":"tech-android-library","displayName":null,"description":null,"status":null}],"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android","id":"android","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["7.x"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Windows Metro","id":"tech-win-metro","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["7.x"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Windows Phone","id":"tech-win-phone","displayName":null,"description":null,"status":null}],"creationDate":1371030542859,"helpText":null,"system":false,"name":"Windows","id":"windows","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["7.x "],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Blackberry Hybrid","id":"tech-blackberry-hybrid","displayName":null,"description":null,"status":null}],"creationDate":1371030542859,"helpText":null,"system":false,"name":"Black Berry","id":"bb","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":null,"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"iPhone Native","id":"tech-iphone-native","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":null,"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"iPhone Hybrid","id":"tech-iphone-hybrid","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":[""],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Iphone Library","id":"tech-iphone-library","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":[""],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Iphone Workspace","id":"tech-iphone-workspace","displayName":null,"description":null,"status":null}],"creationDate":1371030542859,"helpText":null,"system":false,"name":"iOS","id":"iphone","displayName":null,"description":null,"status":null}],"customerIds":["photon"],"used":false,"creationDate":1371030541265,"helpText":null,"system":true,"name":"Mobile Layer","id":"mob-layer","displayName":null,"description":null,"status":null}]};
				
				$.each(appTypesResponse.data, function(index, value){
					addproject.projectsListener.projectAPI.localVal.setJson(value.name, value);
				});
				
				addproject.applicationlayerData = addproject.projectsListener.projectAPI.localVal.getJson("Application Layer");
				addproject.weblayerData = addproject.projectsListener.projectAPI.localVal.getJson("Web Layer");
				addproject.mobilelayerData = addproject.projectsListener.projectAPI.localVal.getJson("Mobile Layer");
				templateData.applicationlayerData = addproject.applicationlayerData;
				templateData.weblayerData = addproject.weblayerData;
				templateData.mobilelayerData = addproject.mobilelayerData;
				
				addproject.renderTemplate(templateData, commonVariables.contentPlaceholder);
			});
			
			addproject.setTechnologyData = mockappTypes;
			addproject.loadPage();
			
			setTimeout(function() {
				start();
				var option = $(commonVariables.contentPlaceholder).find("select.mobile_layer").find("option:contains(Android)").text();
				equal(option, "Android", "Add Project - Mobile Layer UI Tested");
			}, 1500);
		});
		
		asyncTest("Add Project- Technolgy Version Change Event Test", function() {
			
			mockappTypes = mockFunction();
			when(mockappTypes)(anything()).then(function(arg) {
				var appTypesResponse = {"response":null,"message":"Apptypes listed successfully","exception":null,"data":[{"techGroups":[{"appTypeId":"web-layer","techInfos":[{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 JQuery Mobile Widget","id":"tech-html5-jquery-mobile-widget","displayName":null,"description":null,"status":null},{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 YUI Mobile Widget","id":"tech-html5-mobile-widget","displayName":null,"description":null,"status":null},{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 Multichannel JQuery Widget","id":"tech-html5-jquery-widget","displayName":null,"description":null,"status":null},{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 Multichannel YUI Widget","id":"tech-html5","displayName":null,"description":null,"status":null}],"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5","id":"html5","displayName":null,"description":null,"status":null}],"customerIds":["photon"],"used":false,"creationDate":1371030538015,"helpText":null,"system":true,"name":"Web Layer","id":"web-layer","displayName":null,"description":null,"status":null},{"techGroups":[{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["3.4.2","3.3.1"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"WordPress","id":"tech-wordpress","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["5.4.x","5.3.x","5.2.x","5.1.x","5.0.x"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"PHP","id":"tech-php","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["7.8"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Drupal7","id":"tech-phpdru7","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["6.3","6.25","6.19"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Drupal6","id":"tech-phpdru6","displayName":null,"description":null,"status":null}],"creationDate":1371030541234,"helpText":null,"system":false,"name":"PHP","id":"php","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Java WebService","id":"tech-java-webservice","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Java Standalone","id":"tech-java-standalone","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["1.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"MacOSX","id":"49ea6a1c-ad68-4971-995c-0f26017abb3b","displayName":null,"description":null,"status":null}],"creationDate":1371030541250,"helpText":null,"system":false,"name":"Java","id":"java","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["4.0","3.5","3.0","2.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"ASP.NET","id":"tech-dotnet","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["3.5","3.0","2.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Sharepoint","id":"tech-sharepoint","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["3.5","3.0","2.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Site Core","id":"tech-sitecore","displayName":null,"description":null,"status":null}],"creationDate":1371030541250,"helpText":null,"system":false,"name":"Dot Net","id":"dotnet","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["0.10.9","0.10.8","0.10.7","0.10.6","0.10.5","0.10.4","0.10.3","0.10.2","0.10.1","0.10.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Node JS Web Service","id":"tech-nodejs-webservice","displayName":null,"description":null,"status":null}],"creationDate":1371030541250,"helpText":null,"system":false,"name":"NodeJs","id":"nodejs","displayName":null,"description":null,"status":null}],"customerIds":["photon"],"used":false,"creationDate":1371030539625,"helpText":null,"system":true,"name":"Application Layer","id":"app-layer","displayName":null,"description":null,"status":null},{"techGroups":[{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["4.1","4.1.2","4.2","4.0.3","2.3.3","2.2","2.1_r1","1.6"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android Native","id":"tech-android-native","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["4.1","4.1.2","4.2","4.0.3","2.3.3","2.2","2.1_r1","1.6"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android Hybrid","id":"tech-android-hybrid","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["4.1","4.1.2","4.2","4.0.3","2.3.3","2.2","2.1_r1","1.6"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android Library","id":"tech-android-library","displayName":null,"description":null,"status":null}],"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android","id":"android","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["7.x"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Windows Metro","id":"tech-win-metro","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["7.x"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Windows Phone","id":"tech-win-phone","displayName":null,"description":null,"status":null}],"creationDate":1371030542859,"helpText":null,"system":false,"name":"Windows","id":"windows","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["7.x "],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Blackberry Hybrid","id":"tech-blackberry-hybrid","displayName":null,"description":null,"status":null}],"creationDate":1371030542859,"helpText":null,"system":false,"name":"Black Berry","id":"bb","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":null,"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"iPhone Native","id":"tech-iphone-native","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":null,"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"iPhone Hybrid","id":"tech-iphone-hybrid","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":[""],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Iphone Library","id":"tech-iphone-library","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":[""],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Iphone Workspace","id":"tech-iphone-workspace","displayName":null,"description":null,"status":null}],"creationDate":1371030542859,"helpText":null,"system":false,"name":"iOS","id":"iphone","displayName":null,"description":null,"status":null}],"customerIds":["photon"],"used":false,"creationDate":1371030541265,"helpText":null,"system":true,"name":"Mobile Layer","id":"mob-layer","displayName":null,"description":null,"status":null}]};
				
				$.each(appTypesResponse.data, function(index, value){
					addproject.projectsListener.projectAPI.localVal.setJson(value.name, value);
				});
				
				addproject.applicationlayerData = addproject.projectsListener.projectAPI.localVal.getJson("Application Layer");
				addproject.weblayerData = addproject.projectsListener.projectAPI.localVal.getJson("Web Layer");
				addproject.mobilelayerData = addproject.projectsListener.projectAPI.localVal.getJson("Mobile Layer");
				templateData.applicationlayerData = addproject.applicationlayerData;
				templateData.weblayerData = addproject.weblayerData;
				templateData.mobilelayerData = addproject.mobilelayerData;
				
				addproject.renderTemplate(templateData, commonVariables.contentPlaceholder);
			});
			
			addproject.setTechnologyData = mockappTypes;
			addproject.loadPage();
			
			setTimeout(function() {
				var selectCtrl = $(commonVariables.contentPlaceholder).find("select.appln_version");
				$(commonVariables.contentPlaceholder).find("select.appln_technology").change(addproject.projectsListener.gettechnologyversion("tech-php", selectCtrl));
				start();
				var option = $(commonVariables.contentPlaceholder).find("select.appln_version").find("option:contains(5.4.x)").text();
				equal(option, "5.4.x", "Add Project - Technolgy Version Change Event Tested Successfully");
			}, 1500);
		});
		
		asyncTest("Add Project- weblayer Type Change Event Test", function() {
			
			mockappTypes = mockFunction();
			when(mockappTypes)(anything()).then(function(arg) {
				var appTypesResponse = {"response":null,"message":"Apptypes listed successfully","exception":null,"data":[{"techGroups":[{"appTypeId":"web-layer","techInfos":[{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 JQuery Mobile Widget","id":"tech-html5-jquery-mobile-widget","displayName":null,"description":null,"status":null},{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 YUI Mobile Widget","id":"tech-html5-mobile-widget","displayName":null,"description":null,"status":null},{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 Multichannel JQuery Widget","id":"tech-html5-jquery-widget","displayName":null,"description":null,"status":null},{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 Multichannel YUI Widget","id":"tech-html5","displayName":null,"description":null,"status":null}],"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5","id":"html5","displayName":null,"description":null,"status":null}],"customerIds":["photon"],"used":false,"creationDate":1371030538015,"helpText":null,"system":true,"name":"Web Layer","id":"web-layer","displayName":null,"description":null,"status":null},{"techGroups":[{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["3.4.2","3.3.1"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"WordPress","id":"tech-wordpress","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["5.4.x","5.3.x","5.2.x","5.1.x","5.0.x"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"PHP","id":"tech-php","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["7.8"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Drupal7","id":"tech-phpdru7","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["6.3","6.25","6.19"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Drupal6","id":"tech-phpdru6","displayName":null,"description":null,"status":null}],"creationDate":1371030541234,"helpText":null,"system":false,"name":"PHP","id":"php","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Java WebService","id":"tech-java-webservice","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Java Standalone","id":"tech-java-standalone","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["1.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"MacOSX","id":"49ea6a1c-ad68-4971-995c-0f26017abb3b","displayName":null,"description":null,"status":null}],"creationDate":1371030541250,"helpText":null,"system":false,"name":"Java","id":"java","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["4.0","3.5","3.0","2.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"ASP.NET","id":"tech-dotnet","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["3.5","3.0","2.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Sharepoint","id":"tech-sharepoint","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["3.5","3.0","2.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Site Core","id":"tech-sitecore","displayName":null,"description":null,"status":null}],"creationDate":1371030541250,"helpText":null,"system":false,"name":"Dot Net","id":"dotnet","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["0.10.9","0.10.8","0.10.7","0.10.6","0.10.5","0.10.4","0.10.3","0.10.2","0.10.1","0.10.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Node JS Web Service","id":"tech-nodejs-webservice","displayName":null,"description":null,"status":null}],"creationDate":1371030541250,"helpText":null,"system":false,"name":"NodeJs","id":"nodejs","displayName":null,"description":null,"status":null}],"customerIds":["photon"],"used":false,"creationDate":1371030539625,"helpText":null,"system":true,"name":"Application Layer","id":"app-layer","displayName":null,"description":null,"status":null},{"techGroups":[{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["4.1","4.1.2","4.2","4.0.3","2.3.3","2.2","2.1_r1","1.6"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android Native","id":"tech-android-native","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["4.1","4.1.2","4.2","4.0.3","2.3.3","2.2","2.1_r1","1.6"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android Hybrid","id":"tech-android-hybrid","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["4.1","4.1.2","4.2","4.0.3","2.3.3","2.2","2.1_r1","1.6"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android Library","id":"tech-android-library","displayName":null,"description":null,"status":null}],"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android","id":"android","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["7.x"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Windows Metro","id":"tech-win-metro","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["7.x"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Windows Phone","id":"tech-win-phone","displayName":null,"description":null,"status":null}],"creationDate":1371030542859,"helpText":null,"system":false,"name":"Windows","id":"windows","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["7.x "],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Blackberry Hybrid","id":"tech-blackberry-hybrid","displayName":null,"description":null,"status":null}],"creationDate":1371030542859,"helpText":null,"system":false,"name":"Black Berry","id":"bb","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":null,"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"iPhone Native","id":"tech-iphone-native","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":null,"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"iPhone Hybrid","id":"tech-iphone-hybrid","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":[""],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Iphone Library","id":"tech-iphone-library","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":[""],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Iphone Workspace","id":"tech-iphone-workspace","displayName":null,"description":null,"status":null}],"creationDate":1371030542859,"helpText":null,"system":false,"name":"iOS","id":"iphone","displayName":null,"description":null,"status":null}],"customerIds":["photon"],"used":false,"creationDate":1371030541265,"helpText":null,"system":true,"name":"Mobile Layer","id":"mob-layer","displayName":null,"description":null,"status":null}]};
				
				$.each(appTypesResponse.data, function(index, value){
					addproject.projectsListener.projectAPI.localVal.setJson(value.name, value);
				});
				
				addproject.applicationlayerData = addproject.projectsListener.projectAPI.localVal.getJson("Application Layer");
				addproject.weblayerData = addproject.projectsListener.projectAPI.localVal.getJson("Web Layer");
				addproject.mobilelayerData = addproject.projectsListener.projectAPI.localVal.getJson("Mobile Layer");
				templateData.applicationlayerData = addproject.applicationlayerData;
				templateData.weblayerData = addproject.weblayerData;
				templateData.mobilelayerData = addproject.mobilelayerData;
				
				addproject.renderTemplate(templateData, commonVariables.contentPlaceholder);
			});
			
			addproject.setTechnologyData = mockappTypes;
			addproject.loadPage();
			
			setTimeout(function() {
				var selectCtrl = $(commonVariables.contentPlaceholder).find("select.web_widget");
				$(commonVariables.contentPlaceholder).find("select.weblayer").change(addproject.projectsListener.getwidgettype("html5", selectCtrl));
				start();
				var option = $(commonVariables.contentPlaceholder).find("select.web_widget").find("option:contains(HTML5 JQuery Mobile Widget)").text();
				equal(option, "HTML5 JQuery Mobile Widget", "Add Project - weblayer Version Change Event Test");
			}, 1500);
		});
		
		asyncTest("Add Project- weblayer Version Change Event Test", function() {
			
			mockappTypes = mockFunction();
			when(mockappTypes)(anything()).then(function(arg) {
				var appTypesResponse = {"response":null,"message":"Apptypes listed successfully","exception":null,"data":[{"techGroups":[{"appTypeId":"web-layer","techInfos":[{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 JQuery Mobile Widget","id":"tech-html5-jquery-mobile-widget","displayName":null,"description":null,"status":null},{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 YUI Mobile Widget","id":"tech-html5-mobile-widget","displayName":null,"description":null,"status":null},{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 Multichannel JQuery Widget","id":"tech-html5-jquery-widget","displayName":null,"description":null,"status":null},{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 Multichannel YUI Widget","id":"tech-html5","displayName":null,"description":null,"status":null}],"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5","id":"html5","displayName":null,"description":null,"status":null}],"customerIds":["photon"],"used":false,"creationDate":1371030538015,"helpText":null,"system":true,"name":"Web Layer","id":"web-layer","displayName":null,"description":null,"status":null},{"techGroups":[{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["3.4.2","3.3.1"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"WordPress","id":"tech-wordpress","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["5.4.x","5.3.x","5.2.x","5.1.x","5.0.x"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"PHP","id":"tech-php","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["7.8"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Drupal7","id":"tech-phpdru7","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["6.3","6.25","6.19"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Drupal6","id":"tech-phpdru6","displayName":null,"description":null,"status":null}],"creationDate":1371030541234,"helpText":null,"system":false,"name":"PHP","id":"php","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Java WebService","id":"tech-java-webservice","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Java Standalone","id":"tech-java-standalone","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["1.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"MacOSX","id":"49ea6a1c-ad68-4971-995c-0f26017abb3b","displayName":null,"description":null,"status":null}],"creationDate":1371030541250,"helpText":null,"system":false,"name":"Java","id":"java","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["4.0","3.5","3.0","2.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"ASP.NET","id":"tech-dotnet","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["3.5","3.0","2.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Sharepoint","id":"tech-sharepoint","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["3.5","3.0","2.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Site Core","id":"tech-sitecore","displayName":null,"description":null,"status":null}],"creationDate":1371030541250,"helpText":null,"system":false,"name":"Dot Net","id":"dotnet","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["0.10.9","0.10.8","0.10.7","0.10.6","0.10.5","0.10.4","0.10.3","0.10.2","0.10.1","0.10.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Node JS Web Service","id":"tech-nodejs-webservice","displayName":null,"description":null,"status":null}],"creationDate":1371030541250,"helpText":null,"system":false,"name":"NodeJs","id":"nodejs","displayName":null,"description":null,"status":null}],"customerIds":["photon"],"used":false,"creationDate":1371030539625,"helpText":null,"system":true,"name":"Application Layer","id":"app-layer","displayName":null,"description":null,"status":null},{"techGroups":[{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["4.1","4.1.2","4.2","4.0.3","2.3.3","2.2","2.1_r1","1.6"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android Native","id":"tech-android-native","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["4.1","4.1.2","4.2","4.0.3","2.3.3","2.2","2.1_r1","1.6"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android Hybrid","id":"tech-android-hybrid","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["4.1","4.1.2","4.2","4.0.3","2.3.3","2.2","2.1_r1","1.6"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android Library","id":"tech-android-library","displayName":null,"description":null,"status":null}],"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android","id":"android","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["7.x"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Windows Metro","id":"tech-win-metro","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["7.x"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Windows Phone","id":"tech-win-phone","displayName":null,"description":null,"status":null}],"creationDate":1371030542859,"helpText":null,"system":false,"name":"Windows","id":"windows","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["7.x "],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Blackberry Hybrid","id":"tech-blackberry-hybrid","displayName":null,"description":null,"status":null}],"creationDate":1371030542859,"helpText":null,"system":false,"name":"Black Berry","id":"bb","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":null,"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"iPhone Native","id":"tech-iphone-native","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":null,"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"iPhone Hybrid","id":"tech-iphone-hybrid","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":[""],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Iphone Library","id":"tech-iphone-library","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":[""],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Iphone Workspace","id":"tech-iphone-workspace","displayName":null,"description":null,"status":null}],"creationDate":1371030542859,"helpText":null,"system":false,"name":"iOS","id":"iphone","displayName":null,"description":null,"status":null}],"customerIds":["photon"],"used":false,"creationDate":1371030541265,"helpText":null,"system":true,"name":"Mobile Layer","id":"mob-layer","displayName":null,"description":null,"status":null}]};
				
				$.each(appTypesResponse.data, function(index, value){
					addproject.projectsListener.projectAPI.localVal.setJson(value.name, value);
				});
				
				addproject.applicationlayerData = addproject.projectsListener.projectAPI.localVal.getJson("Application Layer");
				addproject.weblayerData = addproject.projectsListener.projectAPI.localVal.getJson("Web Layer");
				addproject.mobilelayerData = addproject.projectsListener.projectAPI.localVal.getJson("Mobile Layer");
				templateData.applicationlayerData = addproject.applicationlayerData;
				templateData.weblayerData = addproject.weblayerData;
				templateData.mobilelayerData = addproject.mobilelayerData;
				
				addproject.renderTemplate(templateData, commonVariables.contentPlaceholder);
			});
			
			addproject.setTechnologyData = mockappTypes;
			addproject.loadPage();
			
			setTimeout(function() {
				start();
				var selectCtrl = $(commonVariables.contentPlaceholder).find("select.web_version");
				$(commonVariables.contentPlaceholder).find("select.web_widget").change(addproject.projectsListener.getwidgetversion("tech-html5-jquery-mobile-widget", selectCtrl));
				var option = $(commonVariables.contentPlaceholder).find("select.web_version").find("option:contains(1.6)").text();
				equal(option, "1.6", "Add Project - weblayer Version Change Event Test");
			}, 1500);
		});
		
		asyncTest("Add Project- Mobile Type Change Event Test", function() {
			
			mockappTypes = mockFunction();
			when(mockappTypes)(anything()).then(function(arg) {
				var appTypesResponse = {"response":null,"message":"Apptypes listed successfully","exception":null,"data":[{"techGroups":[{"appTypeId":"web-layer","techInfos":[{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 JQuery Mobile Widget","id":"tech-html5-jquery-mobile-widget","displayName":null,"description":null,"status":null},{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 YUI Mobile Widget","id":"tech-html5-mobile-widget","displayName":null,"description":null,"status":null},{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 Multichannel JQuery Widget","id":"tech-html5-jquery-widget","displayName":null,"description":null,"status":null},{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 Multichannel YUI Widget","id":"tech-html5","displayName":null,"description":null,"status":null}],"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5","id":"html5","displayName":null,"description":null,"status":null}],"customerIds":["photon"],"used":false,"creationDate":1371030538015,"helpText":null,"system":true,"name":"Web Layer","id":"web-layer","displayName":null,"description":null,"status":null},{"techGroups":[{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["3.4.2","3.3.1"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"WordPress","id":"tech-wordpress","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["5.4.x","5.3.x","5.2.x","5.1.x","5.0.x"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"PHP","id":"tech-php","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["7.8"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Drupal7","id":"tech-phpdru7","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["6.3","6.25","6.19"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Drupal6","id":"tech-phpdru6","displayName":null,"description":null,"status":null}],"creationDate":1371030541234,"helpText":null,"system":false,"name":"PHP","id":"php","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Java WebService","id":"tech-java-webservice","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Java Standalone","id":"tech-java-standalone","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["1.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"MacOSX","id":"49ea6a1c-ad68-4971-995c-0f26017abb3b","displayName":null,"description":null,"status":null}],"creationDate":1371030541250,"helpText":null,"system":false,"name":"Java","id":"java","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["4.0","3.5","3.0","2.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"ASP.NET","id":"tech-dotnet","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["3.5","3.0","2.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Sharepoint","id":"tech-sharepoint","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["3.5","3.0","2.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Site Core","id":"tech-sitecore","displayName":null,"description":null,"status":null}],"creationDate":1371030541250,"helpText":null,"system":false,"name":"Dot Net","id":"dotnet","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["0.10.9","0.10.8","0.10.7","0.10.6","0.10.5","0.10.4","0.10.3","0.10.2","0.10.1","0.10.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Node JS Web Service","id":"tech-nodejs-webservice","displayName":null,"description":null,"status":null}],"creationDate":1371030541250,"helpText":null,"system":false,"name":"NodeJs","id":"nodejs","displayName":null,"description":null,"status":null}],"customerIds":["photon"],"used":false,"creationDate":1371030539625,"helpText":null,"system":true,"name":"Application Layer","id":"app-layer","displayName":null,"description":null,"status":null},{"techGroups":[{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["4.1","4.1.2","4.2","4.0.3","2.3.3","2.2","2.1_r1","1.6"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android Native","id":"tech-android-native","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["4.1","4.1.2","4.2","4.0.3","2.3.3","2.2","2.1_r1","1.6"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android Hybrid","id":"tech-android-hybrid","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["4.1","4.1.2","4.2","4.0.3","2.3.3","2.2","2.1_r1","1.6"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android Library","id":"tech-android-library","displayName":null,"description":null,"status":null}],"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android","id":"android","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["7.x"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Windows Metro","id":"tech-win-metro","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["7.x"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Windows Phone","id":"tech-win-phone","displayName":null,"description":null,"status":null}],"creationDate":1371030542859,"helpText":null,"system":false,"name":"Windows","id":"windows","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["7.x "],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Blackberry Hybrid","id":"tech-blackberry-hybrid","displayName":null,"description":null,"status":null}],"creationDate":1371030542859,"helpText":null,"system":false,"name":"Black Berry","id":"bb","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":null,"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"iPhone Native","id":"tech-iphone-native","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":null,"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"iPhone Hybrid","id":"tech-iphone-hybrid","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":[""],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Iphone Library","id":"tech-iphone-library","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":[""],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Iphone Workspace","id":"tech-iphone-workspace","displayName":null,"description":null,"status":null}],"creationDate":1371030542859,"helpText":null,"system":false,"name":"iOS","id":"iphone","displayName":null,"description":null,"status":null}],"customerIds":["photon"],"used":false,"creationDate":1371030541265,"helpText":null,"system":true,"name":"Mobile Layer","id":"mob-layer","displayName":null,"description":null,"status":null}]};
				
				$.each(appTypesResponse.data, function(index, value){
					addproject.projectsListener.projectAPI.localVal.setJson(value.name, value);
				});
				
				addproject.applicationlayerData = addproject.projectsListener.projectAPI.localVal.getJson("Application Layer");
				addproject.weblayerData = addproject.projectsListener.projectAPI.localVal.getJson("Web Layer");
				addproject.mobilelayerData = addproject.projectsListener.projectAPI.localVal.getJson("Mobile Layer");
				templateData.applicationlayerData = addproject.applicationlayerData;
				templateData.weblayerData = addproject.weblayerData;
				templateData.mobilelayerData = addproject.mobilelayerData;
				
				addproject.renderTemplate(templateData, commonVariables.contentPlaceholder);
			});
			
			addproject.setTechnologyData = mockappTypes;
			addproject.loadPage();
			
			setTimeout(function() {
				start();
				var selectCtrl = $(commonVariables.contentPlaceholder).find("select.mobile_types");
				$(commonVariables.contentPlaceholder).find("select.mobile_layer").change(addproject.projectsListener.getmobiletype("android", selectCtrl));
				var option = $(commonVariables.contentPlaceholder).find("select.mobile_types").find("option:contains(Android Native)").text();
				equal(option, "Android Native", "Add Project - Mobile Type Change Event Test");
			}, 1500);
		});
		
		asyncTest("Add Project- Mobile Version Change Event Test", function() {
			
			mockappTypes = mockFunction();
			when(mockappTypes)(anything()).then(function(arg) {
				var appTypesResponse = {"response":null,"message":"Apptypes listed successfully","exception":null,"data":[{"techGroups":[{"appTypeId":"web-layer","techInfos":[{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 JQuery Mobile Widget","id":"tech-html5-jquery-mobile-widget","displayName":null,"description":null,"status":null},{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 YUI Mobile Widget","id":"tech-html5-mobile-widget","displayName":null,"description":null,"status":null},{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 Multichannel JQuery Widget","id":"tech-html5-jquery-widget","displayName":null,"description":null,"status":null},{"appTypeId":"web-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5 Multichannel YUI Widget","id":"tech-html5","displayName":null,"description":null,"status":null}],"creationDate":1371030539609,"helpText":null,"system":false,"name":"HTML5","id":"html5","displayName":null,"description":null,"status":null}],"customerIds":["photon"],"used":false,"creationDate":1371030538015,"helpText":null,"system":true,"name":"Web Layer","id":"web-layer","displayName":null,"description":null,"status":null},{"techGroups":[{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["3.4.2","3.3.1"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"WordPress","id":"tech-wordpress","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["5.4.x","5.3.x","5.2.x","5.1.x","5.0.x"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"PHP","id":"tech-php","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["7.8"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Drupal7","id":"tech-phpdru7","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["6.3","6.25","6.19"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Drupal6","id":"tech-phpdru6","displayName":null,"description":null,"status":null}],"creationDate":1371030541234,"helpText":null,"system":false,"name":"PHP","id":"php","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Java WebService","id":"tech-java-webservice","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["1.6","1.5"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Java Standalone","id":"tech-java-standalone","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["1.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"MacOSX","id":"49ea6a1c-ad68-4971-995c-0f26017abb3b","displayName":null,"description":null,"status":null}],"creationDate":1371030541250,"helpText":null,"system":false,"name":"Java","id":"java","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["4.0","3.5","3.0","2.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"ASP.NET","id":"tech-dotnet","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["3.5","3.0","2.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Sharepoint","id":"tech-sharepoint","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techGroupId":null,"techVersions":["3.5","3.0","2.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Site Core","id":"tech-sitecore","displayName":null,"description":null,"status":null}],"creationDate":1371030541250,"helpText":null,"system":false,"name":"Dot Net","id":"dotnet","displayName":null,"description":null,"status":null},{"appTypeId":"app-layer","techInfos":[{"appTypeId":"app-layer","techGroupId":null,"techVersions":["0.10.9","0.10.8","0.10.7","0.10.6","0.10.5","0.10.4","0.10.3","0.10.2","0.10.1","0.10.0"],"version":null,"creationDate":1371030541218,"helpText":null,"system":false,"name":"Node JS Web Service","id":"tech-nodejs-webservice","displayName":null,"description":null,"status":null}],"creationDate":1371030541250,"helpText":null,"system":false,"name":"NodeJs","id":"nodejs","displayName":null,"description":null,"status":null}],"customerIds":["photon"],"used":false,"creationDate":1371030539625,"helpText":null,"system":true,"name":"Application Layer","id":"app-layer","displayName":null,"description":null,"status":null},{"techGroups":[{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["4.1","4.1.2","4.2","4.0.3","2.3.3","2.2","2.1_r1","1.6"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android Native","id":"tech-android-native","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["4.1","4.1.2","4.2","4.0.3","2.3.3","2.2","2.1_r1","1.6"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android Hybrid","id":"tech-android-hybrid","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["4.1","4.1.2","4.2","4.0.3","2.3.3","2.2","2.1_r1","1.6"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android Library","id":"tech-android-library","displayName":null,"description":null,"status":null}],"creationDate":1371030542843,"helpText":null,"system":false,"name":"Android","id":"android","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["7.x"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Windows Metro","id":"tech-win-metro","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["7.x"],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Windows Phone","id":"tech-win-phone","displayName":null,"description":null,"status":null}],"creationDate":1371030542859,"helpText":null,"system":false,"name":"Windows","id":"windows","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":["7.x "],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Blackberry Hybrid","id":"tech-blackberry-hybrid","displayName":null,"description":null,"status":null}],"creationDate":1371030542859,"helpText":null,"system":false,"name":"Black Berry","id":"bb","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techInfos":[{"appTypeId":"mob-layer","techGroupId":null,"techVersions":null,"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"iPhone Native","id":"tech-iphone-native","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":null,"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"iPhone Hybrid","id":"tech-iphone-hybrid","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":[""],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Iphone Library","id":"tech-iphone-library","displayName":null,"description":null,"status":null},{"appTypeId":"mob-layer","techGroupId":null,"techVersions":[""],"version":null,"creationDate":1371030542843,"helpText":null,"system":false,"name":"Iphone Workspace","id":"tech-iphone-workspace","displayName":null,"description":null,"status":null}],"creationDate":1371030542859,"helpText":null,"system":false,"name":"iOS","id":"iphone","displayName":null,"description":null,"status":null}],"customerIds":["photon"],"used":false,"creationDate":1371030541265,"helpText":null,"system":true,"name":"Mobile Layer","id":"mob-layer","displayName":null,"description":null,"status":null}]};
				
				$.each(appTypesResponse.data, function(index, value){
					addproject.projectsListener.projectAPI.localVal.setJson(value.name, value);
				});
				
				addproject.applicationlayerData = addproject.projectsListener.projectAPI.localVal.getJson("Application Layer");
				addproject.weblayerData = addproject.projectsListener.projectAPI.localVal.getJson("Web Layer");
				addproject.mobilelayerData = addproject.projectsListener.projectAPI.localVal.getJson("Mobile Layer");
				templateData.applicationlayerData = addproject.applicationlayerData;
				templateData.weblayerData = addproject.weblayerData;
				templateData.mobilelayerData = addproject.mobilelayerData;
				
				addproject.renderTemplate(templateData, commonVariables.contentPlaceholder);
			});
			
			addproject.setTechnologyData = mockappTypes;
			addproject.loadPage();
			
			setTimeout(function() {
				start();
				var selectCtrl = $(commonVariables.contentPlaceholder).find("select.mobile_version");
				$(commonVariables.contentPlaceholder).find("select.mobile_types").change(addproject.projectsListener.getmobileversion("tech-android-native", selectCtrl));
				var option = $(commonVariables.contentPlaceholder).find("select.mobile_version").find("option:contains(4.1)").text();
				equal(option, "4.14.1.2", "Add Project - Mobile Version Change Event Test");
			}, 1500);
		});
	}};
});